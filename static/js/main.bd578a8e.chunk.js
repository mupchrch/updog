(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(28)},24:function(e,n,t){},25:function(e,n,t){},26:function(e,n,t){},27:function(e,n,t){},28:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),a=t(6),c=t.n(a),u=t(7),s=t(3),i=t(5),l=t(2);var d=function(e){return Object(l.a)(Array(e+1).keys()).filter(function(n){return e%n===0})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{numColumns:4,numRows:4,dogsPerMatch:2,possibleDogsPerMatch:d(16),dogs:[]},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INIT_DOGS":for(var t=[],o=0;o<e.dogsPerMatch;o++)t=[].concat(Object(l.a)(t),Object(l.a)(n.dogs));!function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),o=[e[t],e[n]];e[n]=o[0],e[t]=o[1]}}(t);var r=t.map(function(e,n){return{id:n,url:e,isSelected:!1,isMatched:!1}});return Object(i.a)({},e,{dogs:r});case"TOGGLE_DOG":var a=e.dogs.findIndex(function(e){return e.id===n.id}),c=Object(l.a)(e.dogs);if(c[a].isSelected=!c[a].isSelected,c[a].isSelected)if(c.filter(function(e){return e.isSelected}).every(function(e,n,t){return e.url===t[0].url})){var u=c.filter(function(e){return e.url===c[a].url});u.every(function(e){return e.isSelected})&&u.forEach(function(e){e.isMatched=!0,e.isSelected=!1})}else c.forEach(function(e){return e.isSelected=!1});return Object(i.a)({},e,{dogs:c});case"CLEAR_DOGS":return Object(i.a)({},e,{dogs:[]});case"SET_GRID":var s=d(n.numColumns*n.numRows),m=e.dogsPerMatch;return s.includes(m)||(m=s[0]),Object(i.a)({},e,{numColumns:n.numColumns,numRows:n.numRows,possibleDogsPerMatch:s,dogsPerMatch:m});case"SET_DOGS_PER_MATCH":return Object(i.a)({},e,{dogsPerMatch:n.dogsPerMatch});default:return e}},g=Object(s.b)({gameInfo:m}),f=(t(24),t(8));t(25);var h=function(e){var n=e.id,t=e.url,o=e.isSelected,a=e.isMatched,c=e.onDogSelect,u={opacity:o||a?.5:1,outline:o?"5px solid black":null,filter:a?"blur(5px)":null,cursor:a?null:"pointer",backgroundImage:"url(".concat(t,")")};return r.a.createElement("button",{disabled:a,className:"dog",style:u,onClick:function(){return c(n)},onDragStart:function(e){return e.preventDefault()}})};t(26);var v=function(e){var n=e.dogs,t=e.numColumns,o=Object(f.a)(e,["dogs","numColumns"]);return r.a.createElement("div",{className:"board",style:{gridTemplateColumns:"repeat(".concat(t,", 1fr)")}},n.map(function(e){return r.a.createElement(h,Object.assign({key:e.id,id:e.id,url:e.url,isSelected:e.isSelected,isMatched:e.isMatched},o))}))};t(27);var p=Object(u.b)(function(e){return{isGameWon:!!(e.gameInfo.dogs&&e.gameInfo.dogs.length>0)&&e.gameInfo.dogs.every(function(e){return e.isMatched}),dogs:e.gameInfo.dogs,numColumns:e.gameInfo.numColumns,numRows:e.gameInfo.numRows,dogsPerMatch:e.gameInfo.dogsPerMatch,possibleDogsPerMatch:e.gameInfo.possibleDogsPerMatch}},function(e){return{initDogs:function(n,t,o){return e(function(e){return{type:"INIT_DOGS",dogs:e}}(n))},onDogSelect:function(n){return e(function(e){return{type:"TOGGLE_DOG",id:e}}(n))},onReplay:function(){return e({type:"CLEAR_DOGS"})},setGrid:function(n,t){return e(function(e,n){return{type:"SET_GRID",numColumns:e,numRows:n}}(n,t))},setDogsPerMatch:function(n){return e(function(e){return{type:"SET_DOGS_PER_MATCH",dogsPerMatch:e}}(n))}}})(function(e){var n=e.initDogs,t=e.setGrid,a=e.setDogsPerMatch,c=e.onReplay,u=e.dogs,s=e.numColumns,i=e.numRows,d=e.dogsPerMatch,m=e.possibleDogsPerMatch,g=e.isGameWon,h=Object(f.a)(e,["initDogs","setGrid","setDogsPerMatch","onReplay","dogs","numColumns","numRows","dogsPerMatch","possibleDogsPerMatch","isGameWon"]),p=u.filter(function(e){return e.isMatched}).length/d;return Object(o.useEffect)(function(){g||fetch("https://dog.ceo/api/breeds/image/random/"+s*i/d).then(function(e){return e.json()}).then(function(e){return n(e.message)})},[d,s,i,g]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"input-header"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Board size:"),r.a.createElement("select",{value:s,onChange:function(e){t(e.target.value,i)}},Object(l.a)(Array(10).keys()).map(function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})),"x",r.a.createElement("select",{value:i,onChange:function(e){t(s,e.target.value)}},Object(l.a)(Array(10).keys()).map(function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)}))),r.a.createElement("label",null,"Amount per match:",r.a.createElement("select",{id:"dogsPerMatch",value:d,onChange:function(e){a(e.target.value)}},m.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",null,"Matches: ",p," / ",u.length/d)),r.a.createElement(v,Object.assign({dogs:u,numColumns:s},h)),r.a.createElement("div",{className:"winner",hidden:!g},r.a.createElement("div",null,"YOU WIN"),r.a.createElement("button",{onClick:function(){return c()}},"play again?")))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=Object(s.c)(window.devToolsExtension?window.devToolsExtension():function(e){return e})(s.d)(g);c.a.render(r.a.createElement(u.a,{store:b},r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.bd578a8e.chunk.js.map